[{"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\index.js":"1","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\App.js":"2","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\Layout.js":"4","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\Home.js":"5","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\Navbar.js":"6","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Profile.js":"7","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\User.js":"8","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Register.js":"9","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Recipes.js":"10","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Login.js":"11","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\FriendProfile.js":"12","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Home.js":"13","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Friends.js":"14","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\StateManager.js":"15","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\popup.js":"16","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\reusables\\Jumbotron.js":"17"},{"size":561,"mtime":1611140113205,"results":"18","hashOfConfig":"19"},{"size":403,"mtime":1611227735536,"results":"20","hashOfConfig":"19"},{"size":375,"mtime":1611140113205,"results":"21","hashOfConfig":"19"},{"size":2369,"mtime":1611227735563,"results":"22","hashOfConfig":"19"},{"size":3686,"mtime":1611227735536,"results":"23","hashOfConfig":"19"},{"size":2707,"mtime":1611227436615,"results":"24","hashOfConfig":"19"},{"size":5798,"mtime":1611227735546,"results":"25","hashOfConfig":"19"},{"size":4574,"mtime":1611227735546,"results":"26","hashOfConfig":"19"},{"size":2533,"mtime":1611227735546,"results":"27","hashOfConfig":"19"},{"size":8239,"mtime":1611227436635,"results":"28","hashOfConfig":"19"},{"size":1349,"mtime":1611227735545,"results":"29","hashOfConfig":"19"},{"size":2390,"mtime":1611227735536,"results":"30","hashOfConfig":"19"},{"size":1187,"mtime":1611227436633,"results":"31","hashOfConfig":"19"},{"size":6900,"mtime":1611227735536,"results":"32","hashOfConfig":"19"},{"size":663,"mtime":1611227436607,"results":"33","hashOfConfig":"19"},{"size":356,"mtime":1611227436669,"results":"34","hashOfConfig":"19"},{"size":409,"mtime":1611227436670,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19ztet4",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"45"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"45"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"45"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"45"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\index.js",[],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\App.js",[],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\Layout.js",["77","78","79","80","81"],"import React, { Profiler } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport Profile from \"./pages/Profile\";\r\nimport Friends from \"./pages/Friends\";\r\nimport FriendProfile from \"./pages/FriendProfile\";\r\nimport Recipes from \"./pages/Recipes\";\r\n\r\nexport default function Layout() {\r\n  const loggedInLinks = [\r\n    {\r\n      href: \"/profile\",\r\n      name: \"Home\",\r\n    },\r\n    {\r\n      href: \"/\",\r\n      name: \"Logout\",\r\n    },\r\n    {\r\n      href: \"/friends\",\r\n      name: \"Friends\",\r\n    },\r\n\r\n    {href:\"recipes\",\r\n    name:\"Recipes\",\r\n  },\r\n  ];\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        {/* The landing page route with the default navbar in place */}\r\n        <Route exact path=\"/\">\r\n          <header>\r\n            <Navbar></Navbar>\r\n          </header>\r\n          <main>\r\n            <Home />\r\n          </main>\r\n        </Route>\r\n\r\n        <Route exact path=\"/login\">\r\n          <header>\r\n            <Navbar></Navbar>\r\n          </header>\r\n          <main>\r\n            <Login />\r\n          </main>\r\n        </Route>\r\n\r\n        <Route exact path=\"/register\">\r\n          <header>\r\n            <Navbar></Navbar>\r\n          </header>\r\n          <main>\r\n            <Register />\r\n          </main>\r\n        </Route>\r\n\r\n        <Route exact path=\"/profile\">\r\n          <header>\r\n            <Navbar links={loggedInLinks}></Navbar>\r\n          </header>\r\n          <main>\r\n            <Profile></Profile>\r\n          </main>\r\n        </Route>\r\n\r\n        <Route exact path=\"/friends\">\r\n          <header>\r\n            <Navbar links={loggedInLinks}></Navbar>\r\n          </header>\r\n          <main>\r\n            <Friends></Friends>\r\n          </main>\r\n        </Route>\r\n\r\n        <Route exact path=\"/profile/friend\">\r\n          <header>\r\n            <Navbar links={loggedInLinks}></Navbar>\r\n          </header>\r\n          <main>\r\n            <FriendProfile></FriendProfile>\r\n          </main>\r\n        </Route>\r\n        <Route exact path=\"/recipes\">\r\n          <header>\r\n            <Navbar links={loggedInLinks}></Navbar>\r\n          </header>\r\n          <main>\r\n            <Recipes></Recipes>\r\n          </main>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n",["82","83"],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\Home.js",["84","85","86"],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\Navbar.js",[],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Profile.js",["87","88","89","90","91","92","93"],"import React, { useEffect } from \"react\";\r\nimport \"../../resources/styles/profile.css\";\r\nimport avatar from \"../../resources/images/avatar.svg\";\r\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\r\nimport { user, friends, currentProducts } from \"../../StateManager\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\n\r\nexport default function Profile() {\r\n  const currentUser = useRecoilValue(user); //takes the state of a user\r\n  const setCurrentFriends = useSetRecoilState(friends); //update friends\r\n  const history = useHistory(); //after refreshing the state of a user is lost, and this history is taking us back home then see if\r\n  const [products, setProducts] = useRecoilState(currentProducts);\r\n\r\n  function getProducts() {\r\n    //get products from db\r\n    Axios.get(\"http://localhost:8080/products/\" + currentUser.id)\r\n      .then((res) => {\r\n        console.log(res.data.products);\r\n        setProducts(res.data.products);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  if (currentUser == undefined) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  let invites = []; //doar afisarea invitatiilor pe profil\r\n  if (currentUser.invites) {\r\n    invites = JSON.parse(currentUser.invites);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts(); //take prods from db at the loading stage\r\n\r\n    Axios.get(\"http://localhost:8080/friends/\" + currentUser.id)\r\n      .then((res) => {\r\n        setCurrentFriends(res.data.friends);\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n\r\n    let addbutton = document.getElementById(\"addbutton\"); //Mariana's code\r\n    addbutton.addEventListener(\"click\", () => {\r\n      console.log(\"sfe\");\r\n      var date = document.getElementById(\"expirationdate\").value;\r\n      var inpDate = new Date(date);\r\n      var currDate = new Date();\r\n\r\n      if (inpDate.setHours(0, 0, 0, 0) == currDate.setHours(0, 0, 0, 0)) {\r\n        console.log(\"This date si today\");\r\n      }\r\n      if (inpDate.setHours(0, 0, 0, 0) < currDate.setHours(0, 0, 0, 0)) {\r\n        console.log(\"The date passsed\");\r\n      }\r\n\r\n      let product = document.getElementById(\"productname\");\r\n      let quantity = document.getElementById(\"quantity\");\r\n      let measurementUnit = document.getElementById(\"Measurementunit\");\r\n\r\n      Axios.post(\"http://localhost:8080/product\", {\r\n        //add a new product to the db\r\n        id: currentUser.id,\r\n        foodName: product.value,\r\n        quantity: quantity.value,\r\n        measurementUnit: measurementUnit.value,\r\n      })\r\n        .then((res) => {\r\n          getProducts();\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    });\r\n  }, [setProducts]);\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      {invites.map((invite) => {\r\n        return (\r\n          <div\r\n            key={invite.id}\r\n            className=\"alert alert-info alert-dismissible fade show\"\r\n            role=\"alert\"\r\n          >\r\n            <strong>{invite.name} invited you to see their fridge!</strong>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"alert\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n        );\r\n      })}\r\n      <section className=\"container-fluid d-flex flex-column align-items-center\">\r\n        <img src={avatar} width=\"100px\" height=\"100px\"></img>\r\n        <h2>\r\n          Welcome back, {currentUser != undefined ? currentUser.firstName : \"\"}\r\n        </h2>\r\n      </section>\r\n\r\n      <div className=\"product\">\r\n        <form className=\"container\">\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"Product Name\" className=\"form-label\">\r\n              Product Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"productname\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"Quantity\" className=\"form-label\">\r\n              Quantity\r\n            </label>\r\n            <input type=\"number\" className=\"form-control\" id=\"quantity\"></input>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"Measurementunit\" className=\"form-label\">\r\n              Measurement Unit\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"Measurementunit\"\r\n            ></input>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"Expirationdate\" className=\"form-label\">\r\n              Expiration Date\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              id=\"expirationdate\"\r\n            ></input>\r\n          </div>\r\n          <button type=\"button\" className=\"btn btn-primary\" id=\"addbutton\">\r\n            Add\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary ml-4\"\r\n            id=\"Removebutton\"\r\n          >\r\n            Remove\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"list\">\r\n        <ul className=\"w-100\">\r\n          {products.map((prod) => {\r\n            return (\r\n              <div\r\n                className=\"d-flex justify-content-around\"\r\n                key={prod.userId + \" - \" + prod.foodId}\r\n              >\r\n                <h4>{prod.name}</h4>\r\n                <h5>\r\n                  {prod.quantity} {prod.measurementUnit}\r\n                </h5>\r\n              </div>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\User.js",["94"],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Register.js",["95","96","97","98","99","100"],"import React, { Suspense } from \"react\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Jumbotron from \"../reusables/Jumbotron\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    let userbutton = document.getElementById(\"userbutton\");\r\n    userbutton.addEventListener(\"click\", () => {\r\n      let lastName = document.getElementById(\"lastname\");\r\n      let firstName = document.getElementById(\"firstname\");\r\n      let email = document.getElementById(\"email\");\r\n      let userType = document.getElementById(\"usertype\");\r\n\r\n      Axios.post(\"http://localhost:8080/users\", {\r\n        firstName: firstName.value,\r\n        lastname: lastName.value,\r\n        email: email.value,\r\n        userType: userType.value,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          history.push(\"/login\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Jumbotron></Jumbotron>\r\n      <form className=\"container\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"lastname\" className=\"form-label\">\r\n            Last Name\r\n          </label>\r\n          <input type=\"text\" className=\"form-control\" id=\"lastname\"></input>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"firstname\" className=\"form-label\">\r\n            First Name\r\n          </label>\r\n          <input type=\"text\" className=\"form-control\" id=\"firstname\"></input>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" className=\"form-control\" id=\"email\"></input>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <select\r\n            className=\"form-select custom-select\"\r\n            aria-label=\"Default select example\"\r\n            id=\"usertype\"\r\n          >\r\n            <option defaultValue>Choose account type</option>\r\n            <option value=\"person\">Person</option>\r\n            <option value=\"company\">Company</option>\r\n          </select>\r\n        </div>\r\n        <button type=\"button\" className=\"btn btn-primary\" id=\"userbutton\">\r\n          Register\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-success ml-2\"\r\n          id=\"userbutton-update\"\r\n        >\r\n          Update User\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Recipes.js",["101","102","103","104","105","106"],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Login.js",["107","108","109","110","111"],"import React, { Suspense, useEffect } from \"react\";\r\nimport { useSetRecoilState } from \"recoil\";\r\nimport { listData, route, user } from \"../../StateManager\";\r\nimport Jumbotron from \"../reusables/Jumbotron\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Login() {\r\n  const setUser = useSetRecoilState(user);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    var loginButton = document.getElementById(\"login-button\");\r\n    let email = document.getElementById(\"email\");\r\n    loginButton.addEventListener(\"click\", () => {\r\n      Axios.get(\"http://localhost:8080/users/email/\" + email.value)\r\n        .then((res) => {\r\n          setUser(res.data);\r\n          console.log(res.data);\r\n          history.push(\"/profile\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Jumbotron></Jumbotron>\r\n      <form className=\"container\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" className=\"form-control\" id=\"email\"></input>\r\n        </div>\r\n        <button type=\"button\" className=\"btn btn-primary\" id=\"login-button\">\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\FriendProfile.js",["112","113","114"],"import React, { useEffect } from \"react\";\r\nimport { useRecoilValue, useRecoilState } from \"recoil\";\r\nimport { currentFriend, currentProducts } from \"../../StateManager\";\r\nimport avatar from \"../../resources/images/avatar.svg\";\r\nimport Axios from \"axios\";\r\n\r\nexport default function FriendProfile() {\r\n  let friend = useRecoilValue(currentFriend);\r\n  const [products, setProducts] = useRecoilState(currentProducts);\r\n\r\n  function getProducts() {\r\n    Axios.get(\"http://localhost:8080/products/\" + friend.id)\r\n      .then((res) => {\r\n        console.log(res.data.products);\r\n        setProducts(res.data.products);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n\r\n    let claimButtons = document.getElementsByClassName(\"claim-button\");\r\n    Array.from(claimButtons).forEach((button) => {\r\n      button.addEventListener(\"click\", () => {\r\n        let userId = button.getAttribute(\"data-userid\");\r\n        let foodId = button.getAttribute(\"data-foodid\");\r\n\r\n        Axios.delete(`http://localhost:8080/product/${userId}/${foodId}`)\r\n          .then((res) => {\r\n            console.log(res);\r\n            getProducts();\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      });\r\n    });\r\n  }, [setProducts]);\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"container-fluid d-flex flex-column align-items-center\">\r\n        <img src={avatar} width=\"100px\" height=\"100px\"></img>\r\n        <h2>\r\n          {friend != undefined ? friend.firstName + \" \" + friend.lastname : \"\"}\r\n        </h2>\r\n      </section>\r\n\r\n      <div className=\"list\">\r\n        <ul className=\"w-100\">\r\n          {products.map((prod) => {\r\n            return (\r\n              <div\r\n                className=\"d-flex justify-content-around\"\r\n                key={prod.userId + \" - \" + prod.foodId}\r\n              >\r\n                <h4>{prod.name}</h4>\r\n                <h5>\r\n                  {prod.quantity} {prod.measurementUnit}\r\n                </h5>\r\n                <button\r\n                  className=\"btn btn-success claim-button\"\r\n                  data-userid={prod.userId}\r\n                  data-foodid={prod.foodId}\r\n                >\r\n                  Claim\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Home.js",["115","116"],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\Friends.js",["117","118","119"],"import React, { Suspense, useEffect } from \"react\";\r\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\r\nimport { currentFriend, friends, user } from \"../../StateManager\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\n\r\nexport default function Friends() {\r\n  const currentUser = useRecoilValue(user); //intoarce valoarea atomului\r\n  const [currentFriends, setCurrentFriends] = useRecoilState(friends); //all friends\r\n  const setCurrentFriend = useSetRecoilState(currentFriend); //the friedn that you select to enter the profile\r\n  const history = useHistory(); //e folosita doar pt navigare\r\n\r\n  function getFriends() {\r\n    //get friends from db\r\n    Axios.get(\"http://localhost:8080/friends/\" + currentUser.id)\r\n      .then((res) => {\r\n        setCurrentFriends(res.data.friends);\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  if (currentUser == undefined) {\r\n    //daca user e undefined ne va intoarce in componenta home\r\n    history.push(\"/\");\r\n  }\r\n\r\n  function saveTag(element, f) {\r\n    //saves the tags vegetarian, carnivor, <3 zacusca\r\n    if (element.checked) {\r\n      Axios.put(`http://localhost:8080/users/${f.id}`, {\r\n        firstName: f.firstName,\r\n        lastname: f.lastname,\r\n        userType: f.userType,\r\n        email: f.email,\r\n        tag: element.value,\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n        })\r\n        .catch(console.log);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let addFriendButton = document.getElementById(\"add-friend-button\");\r\n    let friendEmailInput = document.getElementById(\"email\");\r\n\r\n    // Clear invites upon entering this page\r\n    Axios.put(\"http://localhost:8080/invites\", {\r\n      //the route from the server where we update the invites\r\n      id: currentUser.id,\r\n      invites: [],\r\n    })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n\r\n    addFriendButton.addEventListener(\"click\", () => {\r\n      // Define the Axios request that adds a new friend\r\n      Axios.post(\"http://localhost:8080/friends\", {\r\n        currentUserEmail: currentUser.email,\r\n        friendEmail: friendEmailInput.value,\r\n      })\r\n        .then((res) => {\r\n          getFriends();\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    });\r\n    // Get radio buttons\r\n    currentFriends.forEach((f) => {\r\n      let vegetarian = document.getElementById(\"vegetarian-\" + f.id);\r\n      let carnivor = document.getElementById(\"carnivor-\" + f.id);\r\n      let zacusca = document.getElementById(\"zacusca-\" + f.id);\r\n\r\n      switch (f.tag) {\r\n        case \"vegetarian\":\r\n          vegetarian.checked = true;\r\n          break;\r\n        case \"carnivor\":\r\n          carnivor.checked = true;\r\n          break;\r\n        case \"zacusca\":\r\n          zacusca.checked = true;\r\n          break;\r\n      }\r\n\r\n      [vegetarian, carnivor, zacusca].forEach((radio) => {\r\n        radio.addEventListener(\"change\", (ev) => {\r\n          saveTag(ev.target, f);\r\n        });\r\n      });\r\n\r\n      // Add click event for invite buttons\r\n      let inviteButton = document.getElementById(\"invite-button-\" + f.id);\r\n\r\n      // The invites of the one I want to invite\r\n      let invites = JSON.parse(f.invites); //convert the string of invites into an array of objects json\r\n      if (!invites) {\r\n        invites = [\r\n          {\r\n            id: currentUser.id,\r\n            name: currentUser.firstName + \" \" + currentUser.lastname,\r\n          },\r\n        ];\r\n      } else {\r\n        invites.push({\r\n          id: currentUser.id,\r\n          name: currentUser.firstName + \" \" + currentUser.lastname,\r\n        });\r\n      }\r\n\r\n      //\"[{id: 2}, {id: 4}, {id: 8}]\"\r\n\r\n      inviteButton.addEventListener(\"click\", () => {\r\n        Axios.put(\"http://localhost:8080/invites\", {\r\n          //the route from the server where we update the invites\r\n          id: f.id,\r\n          invites: invites,\r\n        })\r\n          .then((res) => {\r\n            console.log(res.data);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      });\r\n\r\n      // Add event listener for navigation to frind profile\r\n      let viewButton = document.getElementById(\"view-\" + f.id);\r\n      viewButton.addEventListener(\"click\", () => {\r\n        setCurrentFriend(f);\r\n        history.push(\"/profile/friend\");\r\n      });\r\n    });\r\n  }, [setCurrentFriends]);\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"container\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" className=\"form-control\" id=\"email\"></input>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          id=\"add-friend-button\"\r\n        >\r\n          Add friend\r\n        </button>\r\n      </form>\r\n      <section className=\"container mt-4\">\r\n        {currentFriends.map((f) => {\r\n          return (\r\n            <div\r\n              className=\"container-fluid d-flex justify-content-between mt-3\"\r\n              key={f.email}\r\n            >\r\n              <h4>\r\n                {f.firstName} {f.lastname} ({f.email})\r\n              </h4>\r\n              <div>\r\n                <input\r\n                  className=\"mr-1\"\r\n                  id={\"vegetarian-\" + f.id}\r\n                  type=\"radio\"\r\n                  name=\"tag\"\r\n                  value=\"vegetarian\"\r\n                ></input>\r\n                <label className=\"mr-2\" htmlFor=\"vegetarian\">\r\n                  Vegetarian\r\n                </label>\r\n                <input\r\n                  className=\"mr-1\"\r\n                  id={\"carnivor-\" + f.id}\r\n                  type=\"radio\"\r\n                  name=\"tag\"\r\n                  value=\"carnivor\"\r\n                ></input>\r\n                <label className=\"mr-2\" htmlFor=\"carnivor\">\r\n                  Carnivor\r\n                </label>\r\n                <input\r\n                  className=\"mr-1\"\r\n                  id={\"zacusca-\" + f.id}\r\n                  type=\"radio\"\r\n                  name=\"tag\"\r\n                  value=\"zacusca\"\r\n                ></input>\r\n                <label className=\"mr-2\" htmlFor=\"zacusca\">\r\n                  Iubitor zacusca\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <button\r\n                  className=\"btn btn-success mr-1\"\r\n                  id={\"invite-button-\" + f.id}\r\n                >\r\n                  Invite to see fridge\r\n                </button>\r\n                <button className=\"btn btn-primary\" id={\"view-\" + f.id}>\r\n                  View Fridge\r\n                </button>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\StateManager.js",[],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\pages\\popup.js",[],"C:\\Users\\Corina Balan\\Desktop\\FoodWaste-App\\frontend\\src\\components\\reusables\\Jumbotron.js",[],{"ruleId":"120","severity":1,"message":"121","line":1,"column":17,"nodeType":"122","messageId":"123","endLine":1,"endColumn":25},{"ruleId":"120","severity":1,"message":"124","line":4,"column":8,"nodeType":"122","messageId":"123","endLine":4,"endColumn":12},{"ruleId":"120","severity":1,"message":"125","line":5,"column":8,"nodeType":"122","messageId":"123","endLine":5,"endColumn":13},{"ruleId":"120","severity":1,"message":"126","line":6,"column":8,"nodeType":"122","messageId":"123","endLine":6,"endColumn":12},{"ruleId":"120","severity":1,"message":"127","line":7,"column":8,"nodeType":"122","messageId":"123","endLine":7,"endColumn":16},{"ruleId":"128","replacedBy":"129"},{"ruleId":"130","replacedBy":"131"},{"ruleId":"120","severity":1,"message":"132","line":8,"column":10,"nodeType":"122","messageId":"123","endLine":8,"endColumn":27},{"ruleId":"133","severity":1,"message":"134","line":43,"column":21,"nodeType":"135","endLine":43,"endColumn":55},{"ruleId":"133","severity":1,"message":"134","line":60,"column":21,"nodeType":"135","endLine":60,"endColumn":49},{"ruleId":"120","severity":1,"message":"136","line":8,"column":8,"nodeType":"122","messageId":"123","endLine":8,"endColumn":13},{"ruleId":"120","severity":1,"message":"137","line":9,"column":8,"nodeType":"122","messageId":"123","endLine":9,"endColumn":13},{"ruleId":"138","severity":1,"message":"139","line":28,"column":19,"nodeType":"140","messageId":"141","endLine":28,"endColumn":21},{"ruleId":"138","severity":1,"message":"139","line":56,"column":40,"nodeType":"140","messageId":"141","endLine":56,"endColumn":42},{"ruleId":"142","severity":1,"message":"143","line":81,"column":6,"nodeType":"144","endLine":81,"endColumn":19,"suggestions":"145"},{"ruleId":"133","severity":1,"message":"134","line":105,"column":9,"nodeType":"135","endLine":105,"endColumn":56},{"ruleId":"138","severity":1,"message":"146","line":107,"column":38,"nodeType":"140","messageId":"141","endLine":107,"endColumn":40},{"ruleId":"142","severity":1,"message":"147","line":82,"column":6,"nodeType":"144","endLine":82,"endColumn":15,"suggestions":"148"},{"ruleId":"120","severity":1,"message":"149","line":1,"column":17,"nodeType":"122","messageId":"123","endLine":1,"endColumn":25},{"ruleId":"120","severity":1,"message":"150","line":2,"column":8,"nodeType":"122","messageId":"123","endLine":2,"endColumn":18},{"ruleId":"120","severity":1,"message":"132","line":3,"column":10,"nodeType":"122","messageId":"123","endLine":3,"endColumn":27},{"ruleId":"120","severity":1,"message":"151","line":4,"column":10,"nodeType":"122","messageId":"123","endLine":4,"endColumn":18},{"ruleId":"120","severity":1,"message":"152","line":4,"column":20,"nodeType":"122","messageId":"123","endLine":4,"endColumn":25},{"ruleId":"142","severity":1,"message":"153","line":35,"column":6,"nodeType":"144","endLine":35,"endColumn":8,"suggestions":"154"},{"ruleId":"133","severity":1,"message":"134","line":16,"column":21,"nodeType":"135","endLine":16,"endColumn":53},{"ruleId":"133","severity":1,"message":"134","line":35,"column":21,"nodeType":"135","endLine":35,"endColumn":55},{"ruleId":"133","severity":1,"message":"134","line":52,"column":21,"nodeType":"135","endLine":52,"endColumn":55},{"ruleId":"133","severity":1,"message":"134","line":69,"column":21,"nodeType":"135","endLine":69,"endColumn":49},{"ruleId":"133","severity":1,"message":"134","line":84,"column":21,"nodeType":"135","endLine":84,"endColumn":57},{"ruleId":"133","severity":1,"message":"134","line":100,"column":21,"nodeType":"135","endLine":100,"endColumn":59},{"ruleId":"120","severity":1,"message":"149","line":1,"column":17,"nodeType":"122","messageId":"123","endLine":1,"endColumn":25},{"ruleId":"120","severity":1,"message":"151","line":3,"column":10,"nodeType":"122","messageId":"123","endLine":3,"endColumn":18},{"ruleId":"120","severity":1,"message":"152","line":3,"column":20,"nodeType":"122","messageId":"123","endLine":3,"endColumn":25},{"ruleId":"120","severity":1,"message":"150","line":5,"column":8,"nodeType":"122","messageId":"123","endLine":5,"endColumn":18},{"ruleId":"142","severity":1,"message":"155","line":27,"column":6,"nodeType":"144","endLine":27,"endColumn":8,"suggestions":"156"},{"ruleId":"142","severity":1,"message":"157","line":41,"column":6,"nodeType":"144","endLine":41,"endColumn":19,"suggestions":"158"},{"ruleId":"133","severity":1,"message":"134","line":46,"column":9,"nodeType":"135","endLine":46,"endColumn":56},{"ruleId":"138","severity":1,"message":"146","line":48,"column":19,"nodeType":"140","messageId":"141","endLine":48,"endColumn":21},{"ruleId":"133","severity":1,"message":"134","line":12,"column":9,"nodeType":"135","endLine":12,"endColumn":27},{"ruleId":"133","severity":1,"message":"134","line":20,"column":9,"nodeType":"135","endLine":20,"endColumn":30},{"ruleId":"138","severity":1,"message":"139","line":24,"column":19,"nodeType":"140","messageId":"141","endLine":24,"endColumn":21},{"ruleId":"159","severity":1,"message":"160","line":80,"column":7,"nodeType":"161","messageId":"162","endLine":90,"endColumn":8},{"ruleId":"142","severity":1,"message":"163","line":140,"column":6,"nodeType":"144","endLine":140,"endColumn":25,"suggestions":"164"},"no-unused-vars","'Profiler' is defined but never used.","Identifier","unusedVar","'User' is defined but never used.","'Group' is defined but never used.","'Food' is defined but never used.","'Category' is defined but never used.","no-native-reassign",["165"],"no-negated-in-lhs",["166"],"'useSetRecoilState' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Toast' is defined but never used.","'Popup' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUser.id', 'getProducts', and 'setCurrentFriends'. Either include them or remove the dependency array.","ArrayExpression",["167"],"Expected '!==' and instead saw '!='.","React Hook useEffect has a missing dependency: 'getUsers'. Either include it or remove the dependency array.",["168"],"'Suspense' is defined but never used.","'ObjectList' is defined but never used.","'listData' is defined but never used.","'route' is defined but never used.","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["169"],"React Hook useEffect has missing dependencies: 'history' and 'setUser'. Either include them or remove the dependency array.",["170"],"React Hook useEffect has a missing dependency: 'getProducts'. Either include it or remove the dependency array.",["171"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","React Hook useEffect has missing dependencies: 'currentFriends', 'currentUser.email', 'currentUser.firstName', 'currentUser.id', 'currentUser.lastname', 'getFriends', 'history', and 'setCurrentFriend'. Either include them or remove the dependency array.",["172"],"no-global-assign","no-unsafe-negation",{"desc":"173","fix":"174"},{"desc":"175","fix":"176"},{"desc":"177","fix":"178"},{"desc":"179","fix":"180"},{"desc":"181","fix":"182"},{"desc":"183","fix":"184"},"Update the dependencies array to be: [currentUser.id, getProducts, setCurrentFriends, setProducts]",{"range":"185","text":"186"},"Update the dependencies array to be: [getUsers, setData]",{"range":"187","text":"188"},"Update the dependencies array to be: [history]",{"range":"189","text":"190"},"Update the dependencies array to be: [history, setUser]",{"range":"191","text":"192"},"Update the dependencies array to be: [getProducts, setProducts]",{"range":"193","text":"194"},"Update the dependencies array to be: [currentFriends, currentUser.email, currentUser.firstName, currentUser.id, currentUser.lastname, getFriends, history, setCurrentFriend, setCurrentFriends]",{"range":"195","text":"196"},[2690,2703],"[currentUser.id, getProducts, setCurrentFriends, setProducts]",[2922,2931],"[getUsers, setData]",[1179,1181],"[history]",[909,911],"[history, setUser]",[1308,1321],"[getProducts, setProducts]",[4249,4268],"[currentFriends, currentUser.email, currentUser.firstName, currentUser.id, currentUser.lastname, getFriends, history, setCurrentFriend, setCurrentFriends]"]